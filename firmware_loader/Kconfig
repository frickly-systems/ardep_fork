# Copyright (C) Frickly Systems GmbH
# Copyright (C) MBition GmbH
#
# SPDX-License-Identifier: Apache-2.0

mainmenu "Firmware Loader"

comment "UDS Firmware Loader Configuration"

menu "Firmware Loader Settings"

module = APP
module-str = app
source "subsys/logging/Kconfig.template.log_config"

if !UDS_DEFAULT_INSTANCE_EXTERNAL_ADDRESS_PROVIDER

# alias configs for easier access of UDS_DEFAULT_INSTANCE addresses

config FIRMWARE_LOADER_PHYS_SA
    hex "Physical Source Address"
    default 0x7E8
    help
      The physical source address used for UDS communication.
      Should be the same as the main application's address

config FIRMWARE_LOADER_PHYS_TA
    hex "Physical Target Address"
    default 0x7E0
    help
      The physical target address used for UDS communication.
      Should be the same as the main application's address

config FIRMWARE_LOADER_FUNC_SA
    hex "Functional Source Address"
    default 0x7DF
    help
      The functional source address used for UDS communication.
      Should be the same as the main application's address

config UDS_DEFAULT_INSTANCE_SOURCE_ADDRESS
  default FIRMWARE_LOADER_PHYS_SA

config UDS_DEFAULT_INSTANCE_TARGET_ADDRESS
  default FIRMWARE_LOADER_PHYS_TA

config UDS_DEFAULT_INSTANCE_FUNCTIONAL_SOURCE_ADDRESS
  default FIRMWARE_LOADER_FUNC_SA

endif

config DISABLE_WAIT_BEFORE_ERASE
    bool "Disable waiting before erasing slot0"
    default n
    help
      Disables the 150ms wait before erasing slot0, which also disallows using the
      RoutineControl message without the no-reponse setting.

endmenu

comment "Zephyr Configuration"

source "Kconfig.zephyr"
