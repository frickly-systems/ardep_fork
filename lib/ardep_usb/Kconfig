# Copyright (C) Frickly Systems GmbH
# Copyright (C) MBition GmbH
#
# SPDX-License-Identifier: Apache-2.0

menuconfig ARDEP_USB
    bool "ARDEP USB device stack"
    depends on BOARD_ARDEP
    default n if MCUBOOT # disable for bootloader builds
    default y if BOARD_ARDEP && !MCUBOOT
    select USBD_DFU
    select USB_DEVICE_STACK_NEXT
    select REBOOT
    help
      Enable USB device stack with DFU support for ARDEP boards. This provides a handler for DFU Detach
      commands that reboots the device into the firmware loader, allowing firmware updates via USB.

if ARDEP_USB
  module = ARDEP_USB
  module-str = "ARDEP USB stack"
  source "subsys/logging/Kconfig.template.log_config"

  config ARDEP_USB_PRODUCT_STRING
    string "USB product string"
    default "ARDEP USB"
endif
