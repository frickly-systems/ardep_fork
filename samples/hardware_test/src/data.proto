// Copyright (C) Frickly Systems GmbH
// Copyright (C) MBition GmbH
// SPDX-License-Identifier: Apache-2.0

syntax = "proto3";

enum State {
  IDLE = 0;
}

enum DeviceRole {
  TESTER = 0;
  SUT = 1;
}

message DeviceInfo {
  bytes device_id = 1;
}

message GPIOResponse {}

message UART {
  string device = 1;
  string receive_data = 2;
  string send_data = 3;
}

message UARTResponse {
  repeated UART uarts = 1;
}

message Response {
  int32 result_code = 1;
  DeviceRole role = 2;
  oneof payload {
    DeviceInfo device_info = 3;
    GPIOResponse gpio_response = 4;
    UARTResponse uart_response = 5;
  }
}

enum RequestType {
  GET_DEVICE_INFO = 0;
  SETUP_GPIO_TEST = 1;
  EXECUTE_GPIO_TEST = 2;
  STOP_GPIO_TEST = 3;
  SETUP_UART_TEST = 4;
  EXECUTE_UART_TEST = 5;
  STOP_UART_TEST = 6;
}

message Request {
  RequestType type = 1;
}
